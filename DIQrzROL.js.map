{"version":3,"file":"DIQrzROL.js","sources":["../../../packages/iconset/src/iconset-registry.js","../../../packages/icon/src/Icon.js","../../../packages/icon/sp-icon.js"],"sourcesContent":["\"use strict\";export class IconsetRegistry{constructor(){this.iconsetMap=new Map}static getInstance(){return IconsetRegistry.instance||(IconsetRegistry.instance=new IconsetRegistry),IconsetRegistry.instance}addIconset(e,t){this.iconsetMap.set(e,t);const n=new CustomEvent(\"sp-iconset-added\",{bubbles:!0,composed:!0,detail:{name:e,iconset:t}});setTimeout(()=>window.dispatchEvent(n),0)}removeIconset(e){this.iconsetMap.delete(e);const t=new CustomEvent(\"sp-iconset-removed\",{bubbles:!0,composed:!0,detail:{name:e}});setTimeout(()=>window.dispatchEvent(t),0)}getIconset(e){return this.iconsetMap.get(e)}}\n//# sourceMappingURL=iconset-registry.js.map\n","\"use strict\";var p=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var o=(s,r,e,t)=>{for(var i=t>1?void 0:t?l(r,e):r,n=s.length-1,a;n>=0;n--)(a=s[n])&&(i=(t?a(r,e,i):a(i))||i);return t&&i&&p(r,e,i),i};import{html as c}from\"@spectrum-web-components/base\";import{property as d,query as m}from\"@spectrum-web-components/base/src/decorators.js\";import{ifDefined as u}from\"@spectrum-web-components/base/src/directives.js\";import{IconsetRegistry as h}from\"@spectrum-web-components/iconset/src/iconset-registry.js\";import{IconBase as v}from\"./IconBase.js\";export class Icon extends v{constructor(){super(...arguments);this.iconsetListener=e=>{if(!this.name)return;const t=this.parseIcon(this.name);e.detail.name===t.iconset&&(this.updateIconPromise=this.updateIcon())}}connectedCallback(){super.connectedCallback(),window.addEventListener(\"sp-iconset-added\",this.iconsetListener)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(\"sp-iconset-added\",this.iconsetListener)}firstUpdated(){this.updateIconPromise=this.updateIcon()}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),this.updateIconPromise=this.updateIcon()}announceIconImageSrcError(){this.dispatchEvent(new Event(\"error\",{cancelable:!1,bubbles:!1,composed:!1}))}render(){return this.name?c`\n                <div id=\"container\"></div>\n            `:this.src?c`\n                <img\n                    src=\"${this.src}\"\n                    alt=${u(this.label)}\n                    @error=${this.announceIconImageSrcError}\n                />\n            `:super.render()}async updateIcon(){if(this.updateIconPromise&&await this.updateIconPromise,!this.name)return Promise.resolve();const e=this.parseIcon(this.name),t=h.getInstance().getIconset(e.iconset);return!t||!this.iconContainer?Promise.resolve():(this.iconContainer.innerHTML=\"\",t.applyIconToElement(this.iconContainer,e.icon,this.size||\"\",this.label?this.label:\"\"))}parseIcon(e){const t=e.split(\":\");let i=\"default\",n=e;return t.length>1&&(i=t[0],n=t[1]),{iconset:i,icon:n}}async getUpdateComplete(){const e=await super.getUpdateComplete();return await this.updateIconPromise,e}}o([d()],Icon.prototype,\"src\",2),o([d()],Icon.prototype,\"name\",2),o([m(\"#container\")],Icon.prototype,\"iconContainer\",2);\n//# sourceMappingURL=Icon.js.map\n","\"use strict\";import{Icon as e}from\"./src/Icon.js\";import{defineElement as o}from\"@spectrum-web-components/base/src/define-element.js\";o(\"sp-icon\",e);\n//# sourceMappingURL=sp-icon.js.map\n"],"names":["IconsetRegistry","constructor","this","iconsetMap","Map","static","instance","addIconset","e","t","set","n","CustomEvent","bubbles","composed","detail","name","iconset","setTimeout","window","dispatchEvent","removeIconset","delete","getIconset","get","p","Object","defineProperty","l","getOwnPropertyDescriptor","o","s","r","a","i","length","Icon","v","super","arguments","iconsetListener","parseIcon","updateIconPromise","updateIcon","connectedCallback","addEventListener","disconnectedCallback","removeEventListener","firstUpdated","attributeChangedCallback","announceIconImageSrcError","Event","cancelable","render","c","src","u","label","async","Promise","resolve","h","getInstance","iconContainer","innerHTML","applyIconToElement","icon","size","split","getUpdateComplete","d","prototype","m"],"mappings":"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"}