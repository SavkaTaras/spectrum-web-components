{"version":3,"file":"swc.DXhgXGbZ.js","sources":["../../../tools/theme/src/theme-interfaces.js","../../../tools/theme/src/Theme.js"],"sourcesContent":["\"use strict\";export const SYSTEM_VARIANT_VALUES=[\"spectrum\",\"express\",\"spectrum-two\"],SCALE_VALUES=[\"medium\",\"large\",\"medium-express\",\"large-express\",\"medium-spectrum-two\",\"large-spectrum-two\"],COLOR_VALUES=[\"light\",\"lightest\",\"dark\",\"darkest\",\"light-express\",\"lightest-express\",\"dark-express\",\"darkest-express\",\"light-spectrum-two\",\"dark-spectrum-two\"];\n//# sourceMappingURL=theme-interfaces.js.map\n","\"use strict\";import{version as d}from\"@spectrum-web-components/base/src/version.js\";import{COLOR_VALUES as u,SCALE_VALUES as p,SYSTEM_VARIANT_VALUES as y}from\"./theme-interfaces.js\";const o=class o extends HTMLElement{constructor(){super();this._dir=\"\";this._system=\"spectrum\";this._color=\"\";this._scale=\"\";this._systemContextConsumers=new Map;this.trackedChildren=new Set;this._updateRequested=!1;this._contextConsumers=new Map;this.attachShadow({mode:\"open\"});const e=document.importNode(o.template.content,!0);this.shadowRoot.appendChild(e),this.shouldAdoptStyles(),this.addEventListener(\"sp-language-context\",this._handleContextPresence),this.addEventListener(\"sp-system-context\",this._handleSystemContext),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return[\"color\",\"scale\",\"lang\",\"dir\",\"system\",\"theme\"]}set dir(e){if(e===this.dir)return;this.setAttribute(\"dir\",e),this._dir=e;const t=e===\"rtl\"?e:\"ltr\";this.trackedChildren.forEach(s=>{s.setAttribute(\"dir\",t)})}get dir(){return this._dir}attributeChangedCallback(e,t,s){t!==s&&(e===\"color\"?this.color=s:e===\"scale\"?this.scale=s:e===\"lang\"&&s?(this.lang=s,this._provideContext()):e===\"theme\"?(this.theme=s,this._provideSystemContext(),void 0):e===\"system\"?(this.system=s,this._provideSystemContext(),void 0):e===\"dir\"&&(this.dir=s))}requestUpdate(){this.shouldAdoptStyles()}get system(){const e=o.themeFragmentsByKind.get(\"system\"),{name:t}=e&&e.get(\"default\")||{};return this._system||t||\"\"}set system(e){if(e===this._system)return;const t=e&&y.includes(e)?e:this.system;t!==this._system&&(this._system=t,this.requestUpdate()),t?this.setAttribute(\"system\",t):this.removeAttribute(\"system\")}get theme(){return this.system||this.removeAttribute(\"system\"),this.system}set theme(e){this.system=e,this.requestUpdate()}get color(){const e=o.themeFragmentsByKind.get(\"color\"),{name:t}=e&&e.get(\"default\")||{};return this._color||t||\"\"}set color(e){if(e===this._color)return;const t=e&&u.includes(e)?e:this.color;t!==this._color&&(this._color=t,this.requestUpdate()),t?this.setAttribute(\"color\",t):this.removeAttribute(\"color\")}get scale(){const e=o.themeFragmentsByKind.get(\"scale\"),{name:t}=e&&e.get(\"default\")||{};return this._scale||t||\"\"}set scale(e){if(e===this._scale)return;const t=e&&p.includes(e)?e:this.scale;t!==this._scale&&(this._scale=t,this.requestUpdate()),t?this.setAttribute(\"scale\",t):this.removeAttribute(\"scale\")}get styles(){const e=[...o.themeFragmentsByKind.keys()],t=(n,r,a)=>{const l=a&&a!==\"theme\"&&a!==\"system\"&&this.theme!==\"spectrum\"&&this.system!==\"spectrum\"?n.get(`${r}-${this.system}`):n.get(r),m=r===\"spectrum\"||!a||this.hasAttribute(a);if(l&&m)return l.styles},s=e.reduce((n,r)=>{const a=o.themeFragmentsByKind.get(r);let l;if(r===\"app\"||r===\"core\")l=t(a,r);else{const{[r]:m}=this;l=t(a,m,r)}return l&&n.push(l),n},[]),i=o.themeFragmentsByKind;return this.system,this.color,this.scale,this.hasAttribute(\"theme\"),[...s]}static get template(){return this.templateElement||(this.templateElement=document.createElement(\"template\"),this.templateElement.innerHTML=\"<slot></slot>\"),this.templateElement}_handleSystemContext(e){e.stopPropagation();const t=e.composedPath()[0];if(this._systemContextConsumers.has(t))return;const s=()=>this._systemContextConsumers.delete(t);this._systemContextConsumers.set(t,[e.detail.callback,s]);const[i]=this._systemContextConsumers.get(t)||[];i&&i(this.system,s)}__createDeferredPromise(){return new Promise(e=>{this.__resolve=e})}connectedCallback(){if(this.shouldAdoptStyles(),o.instances.add(this),!this.hasAttribute(\"dir\")){let e=this.assignedSlot||this.parentNode;for(;e!==document.documentElement&&!(e instanceof o);)e=e.assignedSlot||e.parentNode||e.host;this.dir=e.dir===\"rtl\"?e.dir:\"ltr\"}}disconnectedCallback(){o.instances.delete(this)}startManagingContentDirection(e){this.trackedChildren.add(e)}stopManagingContentDirection(e){this.trackedChildren.delete(e)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const e=this.styles,t=[];for(const s of e)t.push(s.styleSheet);this.shadowRoot.adoptedStyleSheets=t}static registerThemeFragment(e,t,s){const i=o.themeFragmentsByKind.get(t)||new Map;i.size===0&&(o.themeFragmentsByKind.set(t,i),i.set(\"default\",{name:e,styles:s}),o.defaultFragments.add(e)),i.set(e,{name:e,styles:s}),o.instances.forEach(n=>n.shouldAdoptStyles())}_provideContext(){this._contextConsumers.forEach(([e,t])=>e(this.lang,t))}_provideSystemContext(){this._systemContextConsumers.forEach(([e,t])=>e(this.system,t))}_handleContextPresence(e){e.stopPropagation();const t=e.composedPath()[0];if(this._contextConsumers.has(t))return;this._contextConsumers.set(t,[e.detail.callback,()=>this._contextConsumers.delete(t)]);const[s,i]=this._contextConsumers.get(t)||[];s&&i&&s(this.lang||document.documentElement.lang||navigator.language,i)}};o.themeFragmentsByKind=new Map,o.defaultFragments=new Set([\"spectrum\"]),o.instances=new Set,o.VERSION=d;export let Theme=o;function V(h,c){}function B(h,c,e,t,s,i){}\n//# sourceMappingURL=Theme.js.map\n"],"names":["SYSTEM_VARIANT_VALUES","SCALE_VALUES","COLOR_VALUES","o","HTMLElement","constructor","super","this","_dir","_system","_color","_scale","_systemContextConsumers","Map","trackedChildren","Set","_updateRequested","_contextConsumers","attachShadow","mode","e","document","importNode","template","content","shadowRoot","appendChild","shouldAdoptStyles","addEventListener","_handleContextPresence","_handleSystemContext","updateComplete","__createDeferredPromise","observedAttributes","dir","setAttribute","t","forEach","s","attributeChangedCallback","color","scale","lang","_provideContext","theme","_provideSystemContext","system","requestUpdate","themeFragmentsByKind","get","name","y","includes","removeAttribute","u","p","styles","keys","getStyle","n","r","a","l","m","hasAttribute","reduce","push","templateElement","createElement","innerHTML","stopPropagation","composedPath","has","unsubscribe","delete","set","detail","callback","i","Promise","__resolve","connectedCallback","instances","add","assignedSlot","parentNode","documentElement","host","disconnectedCallback","startManagingContentDirection","stopManagingContentDirection","adoptStyles","styleSheet","adoptedStyleSheets","registerThemeFragment","size","defaultFragments","navigator","language","VERSION","d","Theme"],"mappings":"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"}