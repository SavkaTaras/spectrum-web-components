{"version":3,"file":"swc.ChFnD8LO.js","sources":["../../../tools/reactive-controllers/src/RovingTabindex.js"],"sourcesContent":["\"use strict\";import{FocusGroupController as i}from\"./FocusGroup.js\";export class RovingTabindexController extends i{constructor(){super(...arguments);this.managed=!0;this.manageIndexesAnimationFrame=0}set focused(e){e!==this.focused&&(super.focused=e,this.manageTabindexes())}get focused(){return super.focused}clearElementCache(e=0){cancelAnimationFrame(this.manageIndexesAnimationFrame),super.clearElementCache(e),this.managed&&(this.manageIndexesAnimationFrame=requestAnimationFrame(()=>this.manageTabindexes()))}manageTabindexes(){this.focused?this.updateTabindexes(()=>({tabIndex:-1})):this.updateTabindexes(e=>({removeTabIndex:e.contains(this.focusInElement)&&e!==this.focusInElement,tabIndex:e===this.focusInElement?0:-1}))}updateTabindexes(e){this.elements.forEach(a=>{const{tabIndex:t,removeTabIndex:s}=e(a);if(!s){a.tabIndex=t;return}a.removeAttribute(\"tabindex\");const n=a;n.requestUpdate&&n.requestUpdate()})}manage(){this.managed=!0,this.manageTabindexes(),super.manage()}unmanage(){this.managed=!1,this.updateTabindexes(()=>({tabIndex:0})),super.unmanage()}hostUpdated(){super.hostUpdated(),this.host.hasUpdated||this.manageTabindexes()}}\n//# sourceMappingURL=RovingTabindex.js.map\n"],"names":["RovingTabindexController","i","constructor","arguments","this","managed","manageIndexesAnimationFrame","focused","e","super","manageTabindexes","clearElementCache","cancelAnimationFrame","requestAnimationFrame","updateTabindexes","tabIndex","removeTabIndex","contains","focusInElement","elements","forEach","a","t","s","removeAttribute","n","requestUpdate","manage","unmanage","hostUpdated","host","hasUpdated"],"mappings":"sCAmBa,MAAAA,UAEHC,EAFHC,cAAAC,SAAAA,WAaHC,KAAQC,SAAU,EAElBD,KAAQE,4BAA8B,CAZtC,CAAuBC,YAAQC,GACvBA,IAAYJ,KAAKG,UACrBE,MAAMF,QAAUC,EAChBJ,KAAKM,mBACT,CAEuBH,cACnB,OAAaA,MAAAA,OAORI,CAAAA,kBAAkBH,EAAS,GAChCI,qBAAqBR,KAAKE,6BAC1BG,MAAME,kBAAkBH,GACnBJ,KAAKC,UAEVD,KAAKE,4BAA8BO,uBAAsB,IACrDT,KAAKM,qBAEb,CAEAA,mBACQN,KAAKG,QACLH,KAAKU,kBAAiB,KAAA,CAASC,UAAU,MAEzCX,KAAKU,kBAAkBN,KAEfQ,eACIR,EAAGS,SAASb,KAAKc,iBACjBV,IAAOJ,KAAKc,eAChBH,SAAUP,IAAOJ,KAAKc,eAAiB,GAAI,KAM3DJ,CAAAA,iBAAiBN,GACbJ,KAAKe,SAASC,SAASC,IACnB,MAAQN,SAAAO,EAAUN,eAAAO,GAAmBf,EAAYa,GACjD,IAAKE,EAED,YADAF,EAAGN,SAAWO,GAGlBD,EAAGG,gBAAgB,YACnB,MAAMC,EAAYJ,EAGdI,EAAUC,eAAeD,EAAUC,eAC3C,GACJ,CAESC,SACLvB,KAAKC,SAAU,EACfD,KAAKM,mBACLD,MAAMkB,QACV,CAESC,WACLxB,KAAKC,SAAU,EACfD,KAAKU,kBAAiB,KAAA,CAASC,SAAU,MACzCN,MAAMmB,UACV,CAESC,cACLpB,MAAMoB,cACDzB,KAAK0B,KAAKC,YACX3B,KAAKM,kBAGjB"}