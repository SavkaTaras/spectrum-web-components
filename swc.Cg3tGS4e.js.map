{"version":3,"file":"swc.QQ48nZj4.js","sources":["../../../packages/iconset/stories/icons-demo.js"],"sourcesContent":["\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\nimport {\n  css,\n  html,\n  SpectrumElement\n} from \"@spectrum-web-components/base\";\nimport {\n  customElement,\n  property,\n  state\n} from \"@spectrum-web-components/base/src/decorators.js\";\nimport { ifDefined } from \"@spectrum-web-components/base/src/directives.js\";\nimport \"@spectrum-web-components/search/sp-search.js\";\nimport \"@spectrum-web-components/field-label/sp-field-label.js\";\nimport bodyStyles from \"@spectrum-web-components/styles/body.js\";\nimport \"@spectrum-web-components/icon/sp-icon.js\";\nimport \"@spectrum-web-components/help-text/sp-help-text.js\";\nimport iconsList from \"./iconsList.json\";\nimport {\n  SystemResolutionController,\n  systemResolverUpdatedSymbol\n} from \"@spectrum-web-components/reactive-controllers/src/SystemContextResolution.js\";\nexport let DelayedReady = class extends SpectrumElement {\n  render() {\n    return html`\n            <slot @slotchange=${this.handleSlotchange}></slot>\n        `;\n  }\n  firstUpdated() {\n    this._delayedReady = new Promise(\n      (res) => this._resolveDelayedReady = res\n    );\n  }\n  async getUpdateComplete() {\n    const complete = await super.getUpdateComplete();\n    await this._delayedReady;\n    return complete;\n  }\n  handleSlotchange({\n    target\n  }) {\n    if (target.assignedElements({ flatten: true }).length) {\n      requestAnimationFrame(() => {\n        this._resolveDelayedReady();\n      });\n    }\n  }\n};\nDelayedReady = __decorateClass([\n  customElement(\"delayed-ready\")\n], DelayedReady);\nexport let IconsDemo = class extends SpectrumElement {\n  constructor() {\n    super();\n    this.name = \"ui\";\n    this.package = \"\";\n    this.size = \"m\";\n    this.search = \"\";\n    this.icons = [];\n    this.unsubscribeSystemContext = null;\n    this.spectrumVersion = 1;\n    this.iconset = [];\n    this.systemResolver = new SystemResolutionController(this);\n    this.iconset = [];\n    this.handleIconSetAdded = this.handleIconSetAdded.bind(this);\n  }\n  async connectedCallback() {\n    super.connectedCallback();\n    this.requestSystemContext();\n    window.addEventListener(\"sp-iconset-added\", this.handleIconSetAdded);\n  }\n  disconnectedCallback() {\n    window.removeEventListener(\"sp-iconset-added\", this.handleIconSetAdded);\n    super.disconnectedCallback();\n    if (this.unsubscribeSystemContext) {\n      this.unsubscribeSystemContext();\n      this.unsubscribeSystemContext = null;\n    }\n  }\n  requestSystemContext() {\n    this.dispatchEvent(\n      new CustomEvent(\"sp-system-context\", {\n        detail: {\n          callback: (system, unsubscribe) => {\n            this.spectrumVersion = system === \"spectrum-two\" ? 2 : 1;\n            this.unsubscribeSystemContext = unsubscribe;\n          }\n        },\n        bubbles: true,\n        composed: true\n      })\n    );\n  }\n  update(changes) {\n    if (changes.has(systemResolverUpdatedSymbol)) {\n      this.spectrumVersion = this.systemResolver.system === \"spectrum-two\" ? 2 : 1;\n    }\n    super.update(changes);\n  }\n  handleIconSetAdded(event) {\n    const { iconset } = event.detail;\n    this.iconset = iconset.getIconList();\n    this.requestUpdate();\n  }\n  static get styles() {\n    return [\n      ...bodyStyles,\n      css`\n                :host {\n                    display: grid;\n                    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n                    gap: 20px;\n                    align-items: flex-start;\n                }\n                .icon {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n                    text-align: center;\n                    border-radius: var(\n                        --spectrum-alias-focus-ring-gap,\n                        var(--spectrum-global-dimension-static-size-25)\n                    );\n                }\n                :host([package]) .icon {\n                    cursor: pointer;\n                }\n                sp-icon {\n                    margin-bottom: 10px;\n                }\n                .search {\n                    grid-column-start: 1;\n                    grid-column-end: -1;\n                }\n                .icon[tabindex]:focus {\n                    outline: none;\n                }\n                .icon[tabindex]:focus-visible {\n                    outline: var(--spectrum-alias-focus-ring-size) solid\n                        var(--spectrum-alias-focus-ring-color);\n                    outline-offset: calc(\n                        var(\n                                --spectrum-alias-focus-ring-gap,\n                                var(--spectrum-global-dimension-static-size-25)\n                            ) * 2\n                    );\n                }\n            `\n    ];\n  }\n  handleKeydown(event, tag) {\n    const { code } = event;\n    if (code !== \"Enter\" && code !== \"NumpadEnter\" && code !== \"Space\") {\n      return;\n    }\n    event.preventDefault();\n    this.shouldCopy(tag);\n  }\n  shouldCopy(tag) {\n    if (!this.package) return;\n    const conditionedTag = tag.slice(1, tag.length - 1);\n    const importURL = `import '@spectrum-web-components/${this.package}/icons/${conditionedTag}.js';`;\n    this.dispatchEvent(\n      new CustomEvent(\"copy-text\", {\n        bubbles: true,\n        composed: true,\n        detail: {\n          message: \"Import statement copied to clipboard!\",\n          text: importURL\n        }\n      })\n    );\n  }\n  updateSearch(event) {\n    event.stopPropagation();\n    this.search = event.target.value;\n  }\n  submit(event) {\n    event.stopPropagation();\n    this.updateSearch(event);\n  }\n  renderSearch() {\n    let matchingIcons = this.search ? this.icons.filter(\n      (icon) => icon.name.toLowerCase().includes(this.search.toLowerCase())\n    ) : this.icons;\n    const iconVersion = this.spectrumVersion === 2 ? \"s2\" : \"s1\";\n    matchingIcons = matchingIcons.filter((icon) => {\n      const iconName = icon.name.replace(/\\s/g, \"\").toLowerCase();\n      return iconsList[iconVersion].includes(iconName);\n    });\n    return html`\n            <div class=\"search\" part=\"search\">\n                <sp-field-label for=\"search\">Spectrum icons:</sp-field-label>\n                <sp-search\n                    id=\"search\"\n                    @keydown=${this.updateSearch}\n                    @input=${this.updateSearch}\n                    @submit=${this.submit}\n                    .value=${this.search}\n                    label=\"Search for icons\"\n                    autocomplete=\"off\"\n                >\n                    <sp-help-text slot=\"help-text\">\n                        Showing ${matchingIcons.length} of ${this.icons.length}\n                        available icons.\n                    </sp-help-text>\n                </sp-search>\n            </div>\n            ${matchingIcons.map((icon) => {\n      return html`\n                    <bdo\n                        class=\"icon\"\n                        part=\"icon\"\n                        dir=\"ltr\"\n                        class=\"icon\"\n                        @click=${() => this.shouldCopy(icon.tag)}\n                        @keydown=${(event) => this.handleKeydown(event, icon.tag)}\n                        tabindex=${ifDefined(this.package ? \"0\" : void 0)}\n                    >\n                        ${icon.story(this.size)} ${icon.tag}\n                    </bdo>\n                `;\n    })}\n        `;\n  }\n  render() {\n    return html`\n            ${this.icons.length ? this.renderSearch() : html`\n                      <slot></slot>\n                  `}\n            ${this.iconset.map(\n      (icon) => html`\n                    <bdo class=\"icon\" dir=\"ltr\">\n                        <sp-icon\n                            size=\"xl\"\n                            name=${`${this.name}:${icon}`}\n                        ></sp-icon>\n                        ${icon}\n                    </bdo>\n                `\n    )}\n        `;\n  }\n};\n__decorateClass([\n  property()\n], IconsDemo.prototype, \"name\", 2);\n__decorateClass([\n  property()\n], IconsDemo.prototype, \"package\", 2);\n__decorateClass([\n  property()\n], IconsDemo.prototype, \"size\", 2);\n__decorateClass([\n  property()\n], IconsDemo.prototype, \"search\", 2);\n__decorateClass([\n  property({ attribute: false })\n], IconsDemo.prototype, \"icons\", 2);\n__decorateClass([\n  state()\n], IconsDemo.prototype, \"spectrumVersion\", 2);\nIconsDemo = __decorateClass([\n  customElement(\"icons-demo\")\n], IconsDemo);\n//# sourceMappingURL=icons-demo.js.map\n"],"names":["DelayedReady","SpectrumElement","render","html","this","handleSlotchange","firstUpdated","_delayedReady","Promise","res","_resolveDelayedReady","getUpdateComplete","complete","super","target","assignedElements","flatten","length","requestAnimationFrame","__decorateClass","customElement","IconsDemo","constructor","name","package","size","search","icons","unsubscribeSystemContext","spectrumVersion","iconset","systemResolver","SystemResolutionController","handleIconSetAdded","bind","connectedCallback","requestSystemContext","window","addEventListener","disconnectedCallback","removeEventListener","dispatchEvent","CustomEvent","detail","callback","system","unsubscribe","bubbles","composed","update","changes","has","systemResolverUpdatedSymbol","event","getIconList","requestUpdate","styles","bodyStyles","css","handleKeydown","tag","code","preventDefault","shouldCopy","conditionedTag","slice","importURL","message","text","updateSearch","stopPropagation","value","submit","renderSearch","matchingIcons","filter","icon","toLowerCase","includes","iconVersion","iconName","replace","iconsList","map","ifDefined","story","property","prototype","attribute","state"],"mappings":"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"}