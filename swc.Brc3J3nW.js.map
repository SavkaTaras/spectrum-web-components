{"version":3,"file":"swc.Cdymc5IF.js","sources":["../../../tools/shared/src/focus-visible.js","../../../tools/shared/src/focusable.js"],"sourcesContent":["\"use strict\";let i=!0;try{document.body.querySelector(\":focus-visible\")}catch(a){i=!1,import(\"focus-visible\")}export const FocusVisiblePolyfillMixin=a=>{var n;const s=l=>{if(l.shadowRoot==null||l.hasAttribute(\"data-js-focus-visible\"))return()=>{};if(self.applyFocusVisiblePolyfill)self.applyFocusVisiblePolyfill(l.shadowRoot),l.manageAutoFocus&&l.manageAutoFocus();else{const e=()=>{self.applyFocusVisiblePolyfill&&l.shadowRoot&&self.applyFocusVisiblePolyfill(l.shadowRoot),l.manageAutoFocus&&l.manageAutoFocus()};return self.addEventListener(\"focus-visible-polyfill-ready\",e,{once:!0}),()=>{self.removeEventListener(\"focus-visible-polyfill-ready\",e)}}return()=>{}},o=Symbol(\"endPolyfillCoordination\");class t extends a{constructor(){super(...arguments);this[n]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),i||requestAnimationFrame(()=>{this[o]==null&&(this[o]=s(this))})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),i||requestAnimationFrame(()=>{this[o]!=null&&(this[o](),this[o]=null)})}}return n=o,t};\n//# sourceMappingURL=focus-visible.js.map\n","\"use strict\";var u=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var n=(s,a,e,t)=>{for(var i=t>1?void 0:t?b(a,e):a,o=s.length-1,r;o>=0;o--)(r=s[o])&&(i=(t?r(a,e,i):r(i))||i);return t&&i&&u(a,e,i),i};import{SpectrumElement as h}from\"@spectrum-web-components/base\";import{property as l}from\"@spectrum-web-components/base/src/decorators.js\";import{FocusVisiblePolyfillMixin as c}from\"./focus-visible.js\";function d(){return new Promise(s=>requestAnimationFrame(()=>s()))}export class Focusable extends c(h){constructor(){super(...arguments);this.disabled=!1;this.autofocus=!1;this._tabIndex=0;this.manipulatingTabindex=!1;this._recentlyConnected=!1}get tabIndex(){if(this.focusElement===this){const t=this.hasAttribute(\"tabindex\")?Number(this.getAttribute(\"tabindex\")):NaN;return isNaN(t)?-1:t}const e=parseFloat(this.hasAttribute(\"tabindex\")&&this.getAttribute(\"tabindex\")||\"0\");return this.disabled||e<0?-1:this.focusElement?this.focusElement.tabIndex:e}set tabIndex(e){if(this.manipulatingTabindex){this.manipulatingTabindex=!1;return}if(this.focusElement===this){if(e!==this._tabIndex){this._tabIndex=e;const t=this.disabled?\"-1\":\"\"+e;this.manipulatingTabindex=!0,this.setAttribute(\"tabindex\",t)}return}if(e===-1?this.addEventListener(\"pointerdown\",this.onPointerdownManagementOfTabIndex):(this.manipulatingTabindex=!0,this.removeEventListener(\"pointerdown\",this.onPointerdownManagementOfTabIndex)),e===-1||this.disabled){this.setAttribute(\"tabindex\",\"-1\"),this.removeAttribute(\"focusable\"),e!==-1&&this.manageFocusElementTabindex(e);return}this.setAttribute(\"focusable\",\"\"),this.hasAttribute(\"tabindex\")?this.removeAttribute(\"tabindex\"):this.manipulatingTabindex=!1,this.manageFocusElementTabindex(e)}onPointerdownManagementOfTabIndex(){this.tabIndex===-1&&setTimeout(()=>{this.tabIndex=0,this.focus({preventScroll:!0}),this.tabIndex=-1})}async manageFocusElementTabindex(e){this.focusElement||await this.updateComplete,e===null?this.focusElement.removeAttribute(\"tabindex\"):this.focusElement.tabIndex=e}get focusElement(){throw new Error(\"Must implement focusElement getter!\")}focus(e){this.disabled||!this.focusElement||(this.focusElement!==this?this.focusElement.focus(e):HTMLElement.prototype.focus.apply(this,[e]))}blur(){const e=this.focusElement||this;e!==this?e.blur():HTMLElement.prototype.blur.apply(this)}click(){if(this.disabled)return;const e=this.focusElement||this;e!==this?e.click():HTMLElement.prototype.click.apply(this)}manageAutoFocus(){this.autofocus&&(this.dispatchEvent(new KeyboardEvent(\"keydown\",{code:\"Tab\"})),this.focusElement.focus())}firstUpdated(e){super.firstUpdated(e),(!this.hasAttribute(\"tabindex\")||this.getAttribute(\"tabindex\")!==\"-1\")&&this.setAttribute(\"focusable\",\"\")}update(e){e.has(\"disabled\")&&this.handleDisabledChanged(this.disabled,e.get(\"disabled\")),super.update(e)}updated(e){super.updated(e),e.has(\"disabled\")&&this.disabled&&this.blur()}async handleDisabledChanged(e,t){const i=()=>this.focusElement!==this&&typeof this.focusElement.disabled!=\"undefined\";e?(this.manipulatingTabindex=!0,this.setAttribute(\"tabindex\",\"-1\"),await this.updateComplete,i()?this.focusElement.disabled=!0:this.setAttribute(\"aria-disabled\",\"true\")):t&&(this.manipulatingTabindex=!0,this.focusElement===this?this.setAttribute(\"tabindex\",\"\"+this._tabIndex):this.removeAttribute(\"tabindex\"),await this.updateComplete,i()?this.focusElement.disabled=!1:this.removeAttribute(\"aria-disabled\"))}async getUpdateComplete(){const e=await super.getUpdateComplete();return this._recentlyConnected&&(this._recentlyConnected=!1,await d(),await d()),e}connectedCallback(){super.connectedCallback(),this._recentlyConnected=!0,this.updateComplete.then(()=>{this.manageAutoFocus()})}}n([l({type:Boolean,reflect:!0})],Focusable.prototype,\"disabled\",2),n([l({type:Boolean})],Focusable.prototype,\"autofocus\",2),n([l({type:Number})],Focusable.prototype,\"tabIndex\",1);\n//# sourceMappingURL=focusable.js.map\n"],"names":["i","document","body","querySelector","a","import","FocusVisiblePolyfillMixin","n","o","Symbol","constructor","arguments","this","connectedCallback","super","requestAnimationFrame","l","shadowRoot","hasAttribute","self","applyFocusVisiblePolyfill","e","coordinationHandler","manageAutoFocus","addEventListener","once","removeEventListener","s","disconnectedCallback","d","Promise","Focusable","c","h","disabled","autofocus","_tabIndex","manipulatingTabindex","_recentlyConnected","tabIndex","focusElement","t","Number","getAttribute","NaN","isNaN","parseFloat","onPointerdownManagementOfTabIndex","setAttribute","removeAttribute","manageFocusElementTabindex","setTimeout","focus","preventScroll","async","updateComplete","Error","HTMLElement","prototype","apply","blur","click","dispatchEvent","KeyboardEvent","code","firstUpdated","update","has","handleDisabledChanged","get","updated","canSetDisabled","getUpdateComplete","then","type","Boolean","reflect"],"mappings":"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"}