{"version":3,"file":"c9b3efa0.js","sources":["../../../test/lit-helpers.js","../_site/components/picker/inline-module-0907249eb4461434f32b04ae6f9ddfbd.js","../../../packages/picker/stories/template.js"],"sourcesContent":["\"use strict\";\nimport { nothing } from \"lit/html.js\";\nimport { AsyncDirective, directive } from \"lit/async-directive.js\";\nclass SpreadDirective extends AsyncDirective {\n  constructor() {\n    super(...arguments);\n    this.prevData = {};\n  }\n  render(_spreadData) {\n    return nothing;\n  }\n  update(part, [spreadData]) {\n    var _a;\n    if (this.element !== part.element) {\n      this.element = part.element;\n    }\n    this.host = ((_a = part.options) == null ? void 0 : _a.host) || this.element;\n    this.apply(spreadData);\n    this.groom(spreadData);\n    this.prevData = spreadData;\n  }\n  apply(data) {\n    if (!data)\n      return;\n    const { prevData, element } = this;\n    for (const key in data) {\n      const value = data[key];\n      if (value === prevData[key]) {\n        continue;\n      }\n      const name = key.slice(1);\n      switch (key[0]) {\n        case \"@\":\n          const prevHandler = prevData[key];\n          if (prevHandler) {\n            element.removeEventListener(\n              name,\n              this,\n              value\n            );\n          }\n          element.addEventListener(\n            name,\n            this,\n            value\n          );\n          break;\n        case \".\":\n          element[name] = value;\n          break;\n        case \"?\":\n          if (value) {\n            element.setAttribute(name, \"\");\n          } else {\n            element.removeAttribute(name);\n          }\n          break;\n        default:\n          if (value != null) {\n            element.setAttribute(key, String(value));\n          } else {\n            element.removeAttribute(key);\n          }\n          break;\n      }\n    }\n  }\n  groom(data) {\n    const { prevData, element } = this;\n    if (!prevData)\n      return;\n    for (const key in prevData) {\n      if (!data || !(key in data)) {\n        switch (key[0]) {\n          case \"@\":\n            const value = prevData[key];\n            element.removeEventListener(\n              key.slice(1),\n              this,\n              value\n            );\n            break;\n          case \".\":\n            element[key.slice(1)] = void 0;\n            break;\n          case \"?\":\n            element.removeAttribute(key.slice(1));\n            break;\n          default:\n            element.removeAttribute(key);\n            break;\n        }\n      }\n    }\n  }\n  handleEvent(event) {\n    const value = this.prevData[`@${event.type}`];\n    if (typeof value === \"function\") {\n      value.call(this.host, event);\n    } else {\n      value.handleEvent(event);\n    }\n  }\n  disconnected() {\n    const { prevData, element } = this;\n    for (const key in prevData) {\n      if (key[0] !== \"@\")\n        continue;\n      const value = prevData[key];\n      element.removeEventListener(\n        key.slice(1),\n        this,\n        value\n      );\n    }\n  }\n  reconnected() {\n    const { prevData, element } = this;\n    for (const key in prevData) {\n      if (key[0] !== \"@\")\n        continue;\n      const value = prevData[key];\n      element.addEventListener(\n        key.slice(1),\n        this,\n        value\n      );\n    }\n  }\n}\nexport const spread = directive(SpreadDirective);\nclass SpreadPropsDirective extends AsyncDirective {\n  constructor() {\n    super(...arguments);\n    this.prevData = {};\n  }\n  render(_spreadData) {\n    return nothing;\n  }\n  update(part, [spreadData]) {\n    var _a;\n    if (this.element !== part.element) {\n      this.element = part.element;\n    }\n    this.host = ((_a = part.options) == null ? void 0 : _a.host) || this.element;\n    this.apply(spreadData);\n    this.groom(spreadData);\n    this.prevData = spreadData;\n  }\n  apply(data) {\n    if (!data)\n      return;\n    const { prevData, element } = this;\n    for (const key in data) {\n      const value = data[key];\n      if (value === prevData[key]) {\n        continue;\n      }\n      element[key] = value;\n    }\n  }\n  groom(data) {\n    const { prevData, element } = this;\n    if (!prevData)\n      return;\n    for (const key in prevData) {\n      if (!data || !(key in data)) {\n        element[key] = void 0;\n      }\n    }\n  }\n}\nexport const spreadProps = directive(SpreadPropsDirective);\n//# sourceMappingURL=lit-helpers.js.map\n","\n    import { Template } from '@swc-packages-internal/picker/stories/template.js';\n    import { render } from 'lit';\n    const demo = document.querySelector('.demo-preview');\n    const config = document.querySelector('.demo-config');\n    function getArgs() {\n        const args = {};\n        if (!config) {\n            return args;\n        }\n        const form = config.querySelectorAll('.demo-control');\n        form.forEach(arg => {\n            args[arg.id] = arg.value === 'false' ? false : arg.value;\n        })\n        return args;\n    }\n    const renderDemo = (args = {}) => {\n        render(Template(args), demo);\n    };\n    if (config) {\n        config.addEventListener('change', () => {\n            renderDemo(getArgs());\n        });\n    }\n    customElements.whenDefined('sp-picker').then(() => {\n        const defaultArgs = getArgs();\n        console.log(defaultArgs);\n        renderDemo(defaultArgs);\n    });\n","\"use strict\";\nimport { html } from \"@spectrum-web-components/base\";\nimport \"@spectrum-web-components/field-label/sp-field-label.js\";\nimport \"@spectrum-web-components/picker/sp-picker.js\";\nimport \"@spectrum-web-components/menu/sp-menu-item.js\";\nimport { spreadProps } from \"../../../test/lit-helpers.js\";\nexport const handleChange = ({ onChange }) => (event) => {\n  const picker = event.target;\n  if (onChange)\n    onChange(picker.value);\n};\nexport const Template = (args) => html`\n    <sp-field-label for=\"picker-1\">Where do you live?</sp-field-label>\n    <sp-picker\n        id=\"picker-1\"\n        @change=${handleChange(args)}\n        label=\"Choose your neighborhood\"\n        ${spreadProps(args)}\n    >\n        <sp-menu-item value=\"option-1\">Carol Gardens</sp-menu-item>\n        <sp-menu-item value=\"option-2\">Cobble Hill</sp-menu-item>\n        <sp-menu-item value=\"option-3\">Ft. Greene</sp-menu-item>\n        <sp-menu-item value=\"option-4\">Park Slope</sp-menu-item>\n        <sp-menu-item disabled value=\"option-5\">Prospect Park</sp-menu-item>\n        <sp-menu-item value=\"option-6\">Red Hook</sp-menu-item>\n    </sp-picker>\n`;\n//# sourceMappingURL=template.js.map\n"],"names":["directive","AsyncDirective","constructor","this","render","_spreadData","update","part","spreadData","_a","element","host","options","apply","groom","prevData","data","key","value","demo","document","querySelector","config","getArgs","args","querySelectorAll","forEach","arg","id","renderDemo","html","onChange","event","target","picker","handleChange","spreadProps","Template","addEventListener","customElements","whenDefined","then","defaultArgs","console","log"],"mappings":"wwBA4NO,MAAoBA,EAAAA,EA3C3B,cAAmCC,EAAnCC,cAAAA,SAAAA,WAGIC,cAAuC,CAAA,CAAC,CAExCC,OAAOC,GACH,QACJ,CACSC,OAAOC,GAAaC,IAzLjC,IA0LQC,EAAIN,KAAKO,UAAaH,EAAqBG,UACvCP,KAAKO,QAAWH,EAAqBG,SAEzCP,KAAKQ,MAAO,OAAAF,EAAKG,EAAAA,cAAL,EAAAH,EAAcE,OAAQR,KAAKO,QACvCP,KAAKU,MAAML,GACXL,KAAKW,MAAMN,GACXL,KAAKY,SAAWP,CACpB,CAEAK,MAAMG,GACF,IAAKA,EAAM,OACX,MAAMD,SAAEA,EAAFL,QAAYA,GAAYP,KAC9B,IAAA,MAAAc,OAAwB,CACpB,MAAMC,EAAQF,EAAKC,GACfC,IAAUH,EAASE,KAIvBP,EAAQO,GAAOC,EACnB,CACJ,CAEAJ,MAAME,GACF,MAAMD,SAAEA,EAAFL,QAAYA,GAAYP,KAC9B,GAAKY,EACL,IAAA,MAAAE,OACSD,GAAUC,KAAOD,IAElBN,EAAQO,QAAO,EAG3B,ICtNME,EAAOC,SAASC,cAAc,iBAC9BC,EAASF,SAASC,cAAc,gBACtC,SAASE,IACL,MAAMC,EAAO,CAAA,EACb,IAAKF,EACD,OAAOE,EAMX,OAJaF,EAAOG,iBAAiB,iBAChCC,SAAQC,IACTH,EAAKG,EAAIC,IAAoB,UAAdD,EAAIT,OAA4BS,EAAIT,KAAnD,IAEGM,CACV,CACD,MAAMK,EAAa,CAACL,EAAO,CAAA,KACvBpB,ECoBiBoB,IAAoCM,CAAAA,uGANzD,GAAGC,cACFC,IACG,MAAeA,EAAAA,EAAMC,OACjBF,GAAUA,EAASG,EAAOhB,MAAhB,EAOJiB,CAAaX,wCAErBY,EAAYZ,2XD1BPa,CAASb,GAAOL,EAAvB,EAEAG,GACAA,EAAOgB,iBAAiB,UAAU,KAC9BT,EAAWN,IAAX,IAGRgB,eAAeC,YAAY,aAAaC,MAAK,KACzC,MAAMC,EAAcnB,IACpBoB,QAAQC,IAAIF,GACZb,EAAWa,EAAX"}