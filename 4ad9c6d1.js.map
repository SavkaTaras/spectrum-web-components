{"version":3,"file":"4ad9c6d1.js","sources":["../../../packages/help-text/src/HelpTextManager.js","../../../packages/help-text/src/manage-help-text.js"],"sourcesContent":["\"use strict\";import{html as s}from\"@spectrum-web-components/base\";import{ifDefined as l}from\"@spectrum-web-components/base/src/directives.js\";import{conditionAttributeWithId as o}from\"@spectrum-web-components/base/src/condition-attribute-with-id.js\";const i=class i{constructor(e,{mode:n}={mode:\"internal\"}){this.mode=\"internal\";this.handleSlotchange=({target:e})=>{this.handleHelpText(e),this.handleNegativeHelpText(e)};this.host=e,this.instanceCount=i.instanceCount++,this.id=`sp-help-text-${this.instanceCount}`,this.mode=n}get isInternal(){return this.mode===\"internal\"}render(e){return s`\n            <div id=${l(this.isInternal?this.id:void 0)}>\n                <slot\n                    name=${e?\"negative-help-text\":`pass-through-help-text-${this.instanceCount}`}\n                    @slotchange=${this.handleSlotchange}\n                >\n                    <slot name=\"help-text\"></slot>\n                </slot>\n            </div>\n        `}addId(){const e=this.helpTextElement?this.helpTextElement.id:this.id;this.conditionId=o(this.host,\"aria-describedby\",e),this.host.hasAttribute(\"tabindex\")&&(this.previousTabindex=parseFloat(this.host.getAttribute(\"tabindex\"))),this.host.tabIndex=0}removeId(){this.conditionId&&(this.conditionId(),delete this.conditionId),!this.helpTextElement&&(this.previousTabindex?this.host.tabIndex=this.previousTabindex:this.host.removeAttribute(\"tabindex\"))}handleHelpText(e){if(this.isInternal)return;this.helpTextElement&&this.helpTextElement.id===this.id&&this.helpTextElement.removeAttribute(\"id\"),this.removeId();const t=e.assignedElements()[0];this.helpTextElement=t,t&&(t.id||(t.id=this.id),this.addId())}handleNegativeHelpText(e){if(e.name!==\"negative-help-text\")return;e.assignedElements().forEach(t=>t.variant=\"negative\")}};i.instanceCount=0;export let HelpTextManager=i;\n//# sourceMappingURL=HelpTextManager.js.map\n","\"use strict\";import{HelpTextManager as l}from\"./HelpTextManager.js\";export function ManageHelpText(e,{mode:t}={mode:\"internal\"}){class n extends e{constructor(){super(...arguments);this.helpTextManager=new l(this,{mode:t})}get helpTextId(){return this.helpTextManager.id}renderHelpText(r){return this.helpTextManager.render(r)}}return n}\n//# sourceMappingURL=manage-help-text.js.map\n"],"names":["_HelpTextManager","i","constructor","host","mode","this","handleSlotchange","target","handleHelpText","handleNegativeHelpText","instanceCount","id","isInternal","negative","html","ifDefined","addId","e","helpTextElement","conditionId","conditionAttributeWithId","hasAttribute","previousTabindex","parseFloat","getAttribute","tabIndex","removeId","removeAttribute","nextHelpTextElement","assignedElements","name","forEach","el","variant","ManageHelpText","t","helpTextManager","l","helpTextId","render"],"mappings":"sGAiBO,MAAMA,EAAN,MAAsBC,EAczBC,YACIC,GACEC,QAA4C,CAAEA,KAAM,aAZ1DC,KAAQD,KAAgC,WAiExCC,KAAQC,iBAAmB,EACvBC,aAEAF,KAAKG,eAAeD,GACpBF,KAAKI,uBAAuBF,EAD5B,EAtDAF,KAAKF,KAAOA,EACZE,KAAKK,cAAgBV,EAAgBU,gBACrCL,KAAKM,GAAK,gBAAgBN,KAAKK,gBAC/BL,KAAKD,KAAOA,CAdhB,CAAYQ,iBACR,MAAqB,aAAdP,KAAKD,IAgBT,CAAOS,OAAAA,GAGV,OAAOC,CAAAA;sBACOC,EAAUV,KAAKO,WAAaP,KAAKM,QAAK;;2BAEjCE,EACD,qBACA,0BAA0BR,KAAKK;kCACvBL,KAAKC;;;;;SAQ3B,CAAcU,QAClB,MAAWC,EAAAZ,KAAKa,gBAAkBb,KAAKa,gBAAgBP,GAAKN,KAAKM,GACjEN,KAAKc,YAAcC,EACff,KAAKF,KACL,mBACAQ,GAEAN,KAAKF,KAAKkB,aAAa,cACvBhB,KAAKiB,iBAAmBC,WACpBlB,KAAKF,KAAKqB,aAAa,cAG/BnB,KAAKF,KAAKsB,SAAW,CAGjB,CAAiBC,WACjBrB,KAAKc,cACLd,KAAKc,qBACOA,KAAAA,cAEPD,KAAAA,kBACLb,KAAKiB,iBACLjB,KAAKF,KAAKsB,SAAWpB,KAAKiB,iBAE1BjB,KAAKF,KAAKwB,gBAAgB,YAW1B,CAAepB,eAAAA,GACnB,GAAIF,KAAKO,WAAY,OAEjBP,KAAKa,iBAAmBb,KAAKa,gBAAgBP,KAAON,KAAKM,IACzDN,KAAKa,gBAAgBS,gBAAgB,MAEzCtB,KAAKqB,WAEL,MAAME,EADmBrB,EAAOsB,mBACa,GAC7CxB,KAAKa,gBAAkBU,EACnBA,IACKA,EAAoBjB,KACrBiB,EAAoBjB,GAAKN,KAAKM,IAElCN,KAAKW,QAIL,wBAAuBT,GACP,uBAAhBA,EAAOuB,MAEcvB,EAAOsB,mBACfE,SACZC,GAASA,EAA2BC,QAAU,YAG3D,GAtGajC,EAWFU,cAAgB,MAXpBV,EAAAA,ECSSkC,SAAAA,EACZhC,GACEE,KAAF+B,GAA8C,CAAE/B,KAAM,aAWtD,OATA,cAA8BF,EAA9BA,cAAAA,SAAAA,WACIG,KAAkB+B,gBAAA,IAAAC,EAAoBhC,KAAM,CAAED,KAAAA,GAC9C,CAAyBkC,iBACrB,OAAOjC,KAAK+B,gBAAgBzB,EAEhC,CAAeE,eAAAA,GACX,OAAOR,KAAK+B,gBAAgBG,OAAO1B,EAE3C,EAEJ"}