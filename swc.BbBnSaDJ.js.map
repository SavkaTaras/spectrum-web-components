{"version":3,"file":"swc.B9NGWyDI.js","sources":["../../../packages/help-text/src/HelpTextManager.js","../../../packages/help-text/src/manage-help-text.js"],"sourcesContent":["\"use strict\";import{html as s}from\"@spectrum-web-components/base\";import{ifDefined as l}from\"@spectrum-web-components/base/src/directives.js\";import{conditionAttributeWithId as d}from\"@spectrum-web-components/base/src/condition-attribute-with-id.js\";import{randomID as n}from\"@spectrum-web-components/shared/src/random-id.js\";export class HelpTextManager{constructor(e,{mode:i}={mode:\"internal\"}){this.mode=\"internal\";this.handleSlotchange=({target:e})=>{this.handleHelpText(e),this.handleNegativeHelpText(e)};this.host=e,this.id=`sp-help-text-${n()}`,this.mode=i}get isInternal(){return this.mode===\"internal\"}render(e){return s`\n            <div id=${l(this.isInternal?this.id:void 0)}>\n                <slot\n                    name=${e?\"negative-help-text\":`pass-through-help-text-${n()}`}\n                    @slotchange=${this.handleSlotchange}\n                >\n                    <slot name=\"help-text\"></slot>\n                </slot>\n            </div>\n        `}addId(){const e=this.helpTextElement?this.helpTextElement.id:this.id;this.conditionId=d(this.host,\"aria-describedby\",e),this.host.hasAttribute(\"tabindex\")&&(this.previousTabindex=parseFloat(this.host.getAttribute(\"tabindex\"))),this.host.tabIndex=0}removeId(){this.conditionId&&(this.conditionId(),delete this.conditionId),!this.helpTextElement&&(this.previousTabindex?this.host.tabIndex=this.previousTabindex:this.host.removeAttribute(\"tabindex\"))}handleHelpText(e){if(this.isInternal)return;this.helpTextElement&&this.helpTextElement.id===this.id&&this.helpTextElement.removeAttribute(\"id\"),this.removeId();const t=e.assignedElements()[0];this.helpTextElement=t,t&&(t.id||(t.id=this.id),this.addId())}handleNegativeHelpText(e){if(e.name!==\"negative-help-text\")return;e.assignedElements().forEach(t=>t.variant=\"negative\")}}\n//# sourceMappingURL=HelpTextManager.js.map\n","\"use strict\";import{HelpTextManager as l}from\"./HelpTextManager.js\";export function ManageHelpText(e,{mode:t}={mode:\"internal\"}){class n extends e{constructor(){super(...arguments);this.helpTextManager=new l(this,{mode:t})}get helpTextId(){return this.helpTextManager.id}renderHelpText(r){return this.helpTextManager.render(r)}}return n}\n//# sourceMappingURL=manage-help-text.js.map\n"],"names":["HelpTextManager","constructor","e","mode","i","this","handleSlotchange","target","handleHelpText","handleNegativeHelpText","host","id","n","isInternal","render","s","l","addId","helpTextElement","conditionId","d","hasAttribute","previousTabindex","parseFloat","getAttribute","tabIndex","removeId","removeAttribute","t","assignedElements","name","forEach","variant","ManageHelpText","arguments","helpTextManager","helpTextId","renderHelpText","r"],"mappings":"yHAkBO,MAAMA,EAWTC,WAAAA,CACIC,GACEC,KAAAC,GAA4C,CAAED,KAAM,aAT1DE,KAAQF,KAAgC,WA6DxCE,KAAQC,iBAAmB,EACvBC,OAAAL,MAEAG,KAAKG,eAAeN,GACpBG,KAAKI,uBAAuBP,EAChC,EAvDIG,KAAKK,KAAOR,EACZG,KAAKM,GAAK,gBAAgBC,MAC1BP,KAAKF,KAAOC,CAVhB,CAAA,cAAYS,GACR,MAAqB,aAATV,KAAAA,IAYTW,CAAAA,MAAAA,CAAOZ,GAGV,OAAOa,CAAA;sBACOC,EAAUX,KAAKQ,WAAaR,KAAKM,QAAK;;2BAEjCT,EACD,qBACA,0BAA0BU;kCAClBP,KAAKC;;;;;UAQ3BW,KAAAA,GACJ,MAAMf,EAAKG,KAAKa,gBAAkBb,KAAKa,gBAAgBP,GAAKN,KAAKM,GACjEN,KAAKc,YAAcC,EACff,KAAKK,KACL,mBACAR,GAEAG,KAAKK,KAAKW,aAAa,cACvBhB,KAAKiB,iBAAmBC,WACpBlB,KAAKK,KAAKc,aAAa,cAG/BnB,KAAKK,KAAKe,SAAW,EAGjBC,QAAAA,GACArB,KAAKc,cACLd,KAAKc,0BACOA,mBAEPD,kBACLb,KAAKiB,iBACLjB,KAAKK,KAAKe,SAAWpB,KAAKiB,iBAE1BjB,KAAKK,KAAKiB,gBAAgB,YAW1BnB,CAAAA,cAAAA,CAAeN,GACnB,GAAIG,KAAKQ,WAAY,OAEjBR,KAAKa,iBAAmBb,KAAKa,gBAAgBP,KAAON,KAAKM,IACzDN,KAAKa,gBAAgBS,gBAAgB,MAEzCtB,KAAKqB,WAEL,MAAME,EADmB1B,EAAO2B,mBACa,GAC7CxB,KAAKa,gBAAkBU,EACnBA,IACKA,EAAoBjB,KACrBiB,EAAoBjB,GAAKN,KAAKM,IAElCN,KAAKY,QAILR,CAAAA,sBAAAA,CAAuBP,GACP,uBAAhBA,EAAO4B,MAEc5B,EAAO2B,mBACfE,SACZH,GAASA,EAA2BI,QAAU,YAG3D,EC1FgB,SAAAC,EACZ/B,GACEC,KAAAyB,GAA4C,CAAEzB,KAAM,aAWtD,OATA,cAA8BD,EAA9BD,WAAAA,GAAAiC,SAAAA,WACI7B,KAAA8B,gBAAkB,IAAInB,EAAgBX,KAAM,CAAEF,KAAAyB,GAC9C,CAAA,cAAIQ,GACA,YAAYD,gBAAgBxB,EAChC,CACA0B,cAAAA,CAAeC,GACX,YAAYH,gBAAgBrB,OAAOwB,EACvC,EAGR"}