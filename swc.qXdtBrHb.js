import{v as e}from"./swc.R4DXPeE4.js";import{e as t}from"./swc.DpYYvrpg.js";const s=["spectrum","express"],i=["medium","large","medium-express","large-express"],r=["light","lightest","dark","darkest","light-express","lightest-express","dark-express","darkest-express"],n=class e extends HTMLElement{constructor(){super(),this._dir="",this._system="spectrum",this._color="",this._scale="",this.trackedChildren=new Set,this._updateRequested=!1,this._contextConsumers=new Map,this.attachShadow({mode:"open"});const t=document.importNode(e.template.content,!0);this.shadowRoot.appendChild(t),this.shouldAdoptStyles(),this.addEventListener("sp-query-theme",this.onQueryTheme),this.addEventListener("sp-language-context",this._handleContextPresence),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return["color","scale","lang","dir","system","theme"]}set dir(e){if(e===this.dir)return;this.setAttribute("dir",e),this._dir=e;const t="rtl"===e?e:"ltr";this.trackedChildren.forEach((e=>{e.setAttribute("dir",t)}))}get dir(){return this._dir}attributeChangedCallback(e,t,s){t!==s&&("color"===e?this.color=s:"scale"===e?this.scale=s:"lang"===e&&s?(this.lang=s,this._provideContext()):"theme"===e?(this.theme=s,window.__swc.warn(this,'property theme in <sp-theme> has been deprecated. Please use system instead like this <sp-theme system="spectrum"/>',"https://opensource.adobe.com/spectrum-web-components/tools/themes/#deprecation",{level:"deprecation"})):"system"===e?this.system=s:"dir"===e&&(this.dir=s))}requestUpdate(){void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?this.shouldAdoptStyles():window.ShadyCSS.styleElement(this)}get system(){const t=e.themeFragmentsByKind.get("system"),{name:s}=t&&t.get("default")||{};return this._system||s||""}set system(e){if(e===this._system)return;const t=e&&s.includes(e)?e:this.system;t!==this._system&&(this._system=t,this.requestUpdate()),t?this.setAttribute("system",t):this.removeAttribute("system")}get theme(){return this.system||this.removeAttribute("system"),this.system}set theme(e){this.system=e,this.requestUpdate()}get color(){const t=e.themeFragmentsByKind.get("color"),{name:s}=t&&t.get("default")||{};return this._color||s||""}set color(e){if(e===this._color)return;const t=e&&r.includes(e)?e:this.color;t!==this._color&&(this._color=t,this.requestUpdate()),t?this.setAttribute("color",t):this.removeAttribute("color")}get scale(){const t=e.themeFragmentsByKind.get("scale"),{name:s}=t&&t.get("default")||{};return this._scale||s||""}set scale(e){if(e===this._scale)return;const t=e&&i.includes(e)?e:this.scale;t!==this._scale&&(this._scale=t,this.requestUpdate()),t?this.setAttribute("scale",t):this.removeAttribute("scale")}get styles(){const t=[...e.themeFragmentsByKind.keys()],s=(e,t,s)=>{const i=s&&"theme"!==s&&"system"!==s&&"express"===this.theme&&"express"===this.system?e.get(`${t}-express`):e.get(t),r="spectrum"===t||!s||this.hasAttribute(s);if(i&&r)return i.styles};return[...t.reduce(((t,i)=>{const r=e.themeFragmentsByKind.get(i);let n;if("app"===i||"core"===i)n=s(r,i);else{const{[i]:e}=this;n=s(r,e,i)}return n&&t.push(n),t}),[])]}static get template(){return this.templateElement||(this.templateElement=document.createElement("template"),this.templateElement.innerHTML="<slot></slot>"),this.templateElement}__createDeferredPromise(){return new Promise((e=>{this.__resolve=e}))}onQueryTheme(e){if(e.defaultPrevented)return;e.preventDefault();const{detail:t}=e;t.color=this.color||void 0,t.scale=this.scale||void 0,t.lang=this.lang||document.documentElement.lang||navigator.language,t.theme=this.system||void 0,t.system=this.system||void 0}connectedCallback(){if(this.shouldAdoptStyles(),void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this),e.instances.add(this),!this.hasAttribute("dir")){let t=this.assignedSlot||this.parentNode;for(;t!==document.documentElement&&!(t instanceof e);)t=t.assignedSlot||t.parentNode||t.host;this.dir="rtl"===t.dir?t.dir:"ltr"}}disconnectedCallback(){e.instances.delete(this)}startManagingContentDirection(e){this.trackedChildren.add(e)}stopManagingContentDirection(e){this.trackedChildren.delete(e)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const s=this.styles;if(void 0!==window.ShadyCSS&&!window.ShadyCSS.nativeShadow&&window.ShadyCSS.ScopingShim){const t=[];for(const[s,i]of e.themeFragmentsByKind)for(const[r,{styles:n}]of i){if("default"===r)continue;let i=n.cssText;e.defaultFragments.has(r)||(i=i.replace(":host",`:host([${s}='${r}'])`)),t.push(i)}window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t,this.localName),window.ShadyCSS.prepareTemplate(e.template,this.localName)}else if(t){const e=[];for(const t of s)e.push(t.styleSheet);this.shadowRoot.adoptedStyleSheets=e}else this.shadowRoot.querySelectorAll("style").forEach((e=>e.remove())),s.forEach((e=>{const t=document.createElement("style");t.textContent=e.cssText,this.shadowRoot.appendChild(t)}))}static registerThemeFragment(t,s,i){const r=e.themeFragmentsByKind.get(s)||new Map;0===r.size&&(e.themeFragmentsByKind.set(s,r),r.set("default",{name:t,styles:i}),e.defaultFragments.add(t)),r.set(t,{name:t,styles:i}),e.instances.forEach((e=>e.shouldAdoptStyles()))}_provideContext(){this._contextConsumers.forEach((([e,t])=>e(this.lang,t)))}_handleContextPresence(e){e.stopPropagation();const t=e.composedPath()[0];if(this._contextConsumers.has(t))return;this._contextConsumers.set(t,[e.detail.callback,()=>this._contextConsumers.delete(t)]);const[s,i]=this._contextConsumers.get(t)||[];s&&i&&s(this.lang||document.documentElement.lang||navigator.language,i)}};n.themeFragmentsByKind=new Map,n.defaultFragments=new Set(["spectrum"]),n.instances=new Set,n.VERSION=e;let o=n;export{o as T};
//# sourceMappingURL=swc.CThqfsuT.js.map
