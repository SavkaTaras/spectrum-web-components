import { F as FocusVisiblePolyfillMixin } from './focus-visible-68QWcOy-.js';
import { R as Radio } from './sp-radio-6Id9tdes.js';
import { R as RovingTabindexController } from './RovingTabindex-LnbiEVTh.js';
import { F as FieldGroup } from './FieldGroup-G_ZseJp6.js';
import { n as n$1, d as defineElement } from './define-element-tO8-r1bu.js';
import { o } from './query-assigned-nodes-jGvx5qKR.js';

var c=Object.defineProperty;var n=Object.getOwnPropertyDescriptor;var a=(l,d,e,t)=>{for(var i=t>1?void 0:t?n(d,e):d,s=l.length-1,o;s>=0;s--)(o=l[s])&&(i=(t?o(d,e,i):o(i))||i);return t&&i&&c(d,e,i),i};class RadioGroup extends FocusVisiblePolyfillMixin(FieldGroup){constructor(){super(...arguments);this.name="";this.rovingTabindexController=new RovingTabindexController(this,{focusInIndex:e=>e.findIndex(t=>this.selected?!t.disabled&&t.value===this.selected:!t.disabled),elementEnterAction:e=>{this._setSelected(e.value);},elements:()=>this.buttons,isFocusableElement:e=>!e.disabled});this.selected="";}get buttons(){return this.defaultNodes.filter(e=>e instanceof Radio)}focus(){this.rovingTabindexController.focus();}_setSelected(e){if(e===this.selected)return;const t=this.selected,i=e?this.querySelector(`sp-radio[value="${e}"]`):void 0;if(this.selected=i?e:"",!this.dispatchEvent(new Event("change",{cancelable:!0,bubbles:!0,composed:!0}))){this.selected=t;return}this.validateRadios();}willUpdate(e){if(!this.hasUpdated){this.setAttribute("role","radiogroup");const t=this.querySelector("sp-radio[checked]"),i=t?t.value:"";if(this.selected=i||this.selected,this.selected&&this.selected!==i){const s=this.querySelector(`sp-radio[value="${this.selected}"]`);s&&(s.checked=!0);}this.shadowRoot.addEventListener("change",s=>{s.stopPropagation();const o=s.target;this._setSelected(o.value);});}e.has("selected")&&this.validateRadios();}async validateRadios(){let e=!1;this.hasUpdated||await this.updateComplete,this.buttons.map(t=>{t.checked=this.selected===t.value,e=e||t.checked;}),e||(this.selected="");}handleSlotchange(){this.rovingTabindexController.clearElementCache();}}a([n$1({type:String})],RadioGroup.prototype,"name",2),a([o()],RadioGroup.prototype,"defaultNodes",2),a([n$1({reflect:!0})],RadioGroup.prototype,"selected",2);

defineElement("sp-radio-group",RadioGroup);
