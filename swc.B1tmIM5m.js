import{v as t}from"./swc.CjkkN8d7.js";import{e}from"./swc.DpYYvrpg.js";const s=["spectrum","express","spectrum-two"],i=["medium","large","medium-express","large-express","medium-spectrum-two","large-spectrum-two"],r=["light","lightest","dark","darkest","light-express","lightest-express","dark-express","darkest-express","light-spectrum-two","dark-spectrum-two"],o=class t extends HTMLElement{constructor(){super(),this._dir="",this._system="spectrum",this._color="",this._scale="",this.trackedChildren=new Set,this._updateRequested=!1,this._contextConsumers=new Map,this.attachShadow({mode:"open"});const e=document.importNode(t.template.content,!0);this.shadowRoot.appendChild(e),this.shouldAdoptStyles(),this.addEventListener("sp-query-theme",this.onQueryTheme),this.addEventListener("sp-language-context",this._handleContextPresence),this.updateComplete=this.__createDeferredPromise()}static get observedAttributes(){return["color","scale","lang","dir","system","theme"]}set dir(t){if(t===this.dir)return;this.setAttribute("dir",t),this._dir=t;const e="rtl"===t?t:"ltr";this.trackedChildren.forEach((t=>{t.setAttribute("dir",e)}))}get dir(){return this._dir}attributeChangedCallback(t,e,s){e!==s&&("color"===t?this.color=s:"scale"===t?this.scale=s:"lang"===t&&s?(this.lang=s,this._provideContext()):"theme"===t?this.theme=s:"system"===t?this.system=s:"dir"===t&&(this.dir=s))}requestUpdate(){void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?this.shouldAdoptStyles():window.ShadyCSS.styleElement(this)}get system(){const e=t.themeFragmentsByKind.get("system"),{name:s}=e&&e.get("default")||{};return this._system||s||""}set system(t){if(t===this._system)return;const e=t&&s.includes(t)?t:this.system;e!==this._system&&(this._system=e,this.requestUpdate()),e?this.setAttribute("system",e):this.removeAttribute("system")}get theme(){return this.system||this.removeAttribute("system"),this.system}set theme(t){this.system=t,this.requestUpdate()}get color(){const e=t.themeFragmentsByKind.get("color"),{name:s}=e&&e.get("default")||{};return this._color||s||""}set color(t){if(t===this._color)return;const e=t&&r.includes(t)?t:this.color;e!==this._color&&(this._color=e,this.requestUpdate()),e?this.setAttribute("color",e):this.removeAttribute("color")}get scale(){const e=t.themeFragmentsByKind.get("scale"),{name:s}=e&&e.get("default")||{};return this._scale||s||""}set scale(t){if(t===this._scale)return;const e=t&&i.includes(t)?t:this.scale;e!==this._scale&&(this._scale=e,this.requestUpdate()),e?this.setAttribute("scale",e):this.removeAttribute("scale")}get styles(){const e=[...t.themeFragmentsByKind.keys()],s=(t,e,s)=>{const i=s&&"theme"!==s&&"system"!==s&&"spectrum"!==this.theme&&"spectrum"!==this.system?t.get(`${e}-${this.system}`):t.get(e),r="spectrum"===e||!s||this.hasAttribute(s);if(i&&r)return i.styles};return[...e.reduce(((e,i)=>{const r=t.themeFragmentsByKind.get(i);let o;if("app"===i||"core"===i)o=s(r,i);else{const{[i]:t}=this;o=s(r,t,i)}return o&&e.push(o),e}),[])]}static get template(){return this.templateElement||(this.templateElement=document.createElement("template"),this.templateElement.innerHTML="<slot></slot>"),this.templateElement}__createDeferredPromise(){return new Promise((t=>{this.__resolve=t}))}onQueryTheme(t){if(t.defaultPrevented)return;t.preventDefault();const{detail:e}=t;e.color=this.color||void 0,e.scale=this.scale||void 0,e.lang=this.lang||document.documentElement.lang||navigator.language,e.theme=this.system||void 0,e.system=this.system||void 0}connectedCallback(){if(this.shouldAdoptStyles(),void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this),t.instances.add(this),!this.hasAttribute("dir")){let e=this.assignedSlot||this.parentNode;for(;e!==document.documentElement&&!(e instanceof t);)e=e.assignedSlot||e.parentNode||e.host;this.dir="rtl"===e.dir?e.dir:"ltr"}}disconnectedCallback(){t.instances.delete(this)}startManagingContentDirection(t){this.trackedChildren.add(t)}stopManagingContentDirection(t){this.trackedChildren.delete(t)}async shouldAdoptStyles(){this._updateRequested||(this.updateComplete=this.__createDeferredPromise(),this._updateRequested=!0,this._updateRequested=await!1,this.adoptStyles(),this.__resolve(!0))}adoptStyles(){const s=this.styles;if(void 0!==window.ShadyCSS&&!window.ShadyCSS.nativeShadow&&window.ShadyCSS.ScopingShim){const e=[];for(const[s,i]of t.themeFragmentsByKind)for(const[r,{styles:o}]of i){if("default"===r)continue;let i=o.cssText;t.defaultFragments.has(r)||(i=i.replace(":host",`:host([${s}='${r}'])`)),e.push(i)}window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e,this.localName),window.ShadyCSS.prepareTemplate(t.template,this.localName)}else if(e){const t=[];for(const e of s)t.push(e.styleSheet);this.shadowRoot.adoptedStyleSheets=t}else this.shadowRoot.querySelectorAll("style").forEach((t=>t.remove())),s.forEach((t=>{const e=document.createElement("style");e.textContent=t.cssText,this.shadowRoot.appendChild(e)}))}static registerThemeFragment(e,s,i){const r=t.themeFragmentsByKind.get(s)||new Map;0===r.size&&(t.themeFragmentsByKind.set(s,r),r.set("default",{name:e,styles:i}),t.defaultFragments.add(e)),r.set(e,{name:e,styles:i}),t.instances.forEach((t=>t.shouldAdoptStyles()))}_provideContext(){this._contextConsumers.forEach((([t,e])=>t(this.lang,e)))}_handleContextPresence(t){t.stopPropagation();const e=t.composedPath()[0];if(this._contextConsumers.has(e))return;this._contextConsumers.set(e,[t.detail.callback,()=>this._contextConsumers.delete(e)]);const[s,i]=this._contextConsumers.get(e)||[];s&&i&&s(this.lang||document.documentElement.lang||navigator.language,i)}};o.themeFragmentsByKind=new Map,o.defaultFragments=new Set(["spectrum"]),o.instances=new Set,o.VERSION=t;let n=o;export{n as T};
//# sourceMappingURL=swc.Bz52Cp9e.js.map
