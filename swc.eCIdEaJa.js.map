{"version":3,"file":"swc.C1js8Ij0.js","sources":["../../../test/lit-helpers.js","../_site/components/picker/inline-module-0907249eb4461434f32b04ae6f9ddfbd.js","../../../packages/picker/stories/template.js"],"sourcesContent":["\"use strict\";\nimport { nothing } from \"lit/html.js\";\nimport { AsyncDirective, directive } from \"lit/async-directive.js\";\nclass SpreadDirective extends AsyncDirective {\n  constructor() {\n    super(...arguments);\n    this.prevData = {};\n  }\n  render(_spreadData) {\n    return nothing;\n  }\n  update(part, [spreadData]) {\n    var _a;\n    if (this.element !== part.element) {\n      this.element = part.element;\n    }\n    this.host = ((_a = part.options) == null ? void 0 : _a.host) || this.element;\n    this.apply(spreadData);\n    this.groom(spreadData);\n    this.prevData = spreadData;\n  }\n  apply(data) {\n    if (!data)\n      return;\n    const { prevData, element } = this;\n    for (const key in data) {\n      const value = data[key];\n      if (value === prevData[key]) {\n        continue;\n      }\n      const name = key.slice(1);\n      switch (key[0]) {\n        case \"@\":\n          const prevHandler = prevData[key];\n          if (prevHandler) {\n            element.removeEventListener(\n              name,\n              this,\n              value\n            );\n          }\n          element.addEventListener(\n            name,\n            this,\n            value\n          );\n          break;\n        case \".\":\n          element[name] = value;\n          break;\n        case \"?\":\n          if (value) {\n            element.setAttribute(name, \"\");\n          } else {\n            element.removeAttribute(name);\n          }\n          break;\n        default:\n          if (value != null) {\n            element.setAttribute(key, String(value));\n          } else {\n            element.removeAttribute(key);\n          }\n          break;\n      }\n    }\n  }\n  groom(data) {\n    const { prevData, element } = this;\n    if (!prevData)\n      return;\n    for (const key in prevData) {\n      if (!data || !(key in data)) {\n        switch (key[0]) {\n          case \"@\":\n            const value = prevData[key];\n            element.removeEventListener(\n              key.slice(1),\n              this,\n              value\n            );\n            break;\n          case \".\":\n            element[key.slice(1)] = void 0;\n            break;\n          case \"?\":\n            element.removeAttribute(key.slice(1));\n            break;\n          default:\n            element.removeAttribute(key);\n            break;\n        }\n      }\n    }\n  }\n  handleEvent(event) {\n    const value = this.prevData[`@${event.type}`];\n    if (typeof value === \"function\") {\n      value.call(this.host, event);\n    } else {\n      value.handleEvent(event);\n    }\n  }\n  disconnected() {\n    const { prevData, element } = this;\n    for (const key in prevData) {\n      if (key[0] !== \"@\")\n        continue;\n      const value = prevData[key];\n      element.removeEventListener(\n        key.slice(1),\n        this,\n        value\n      );\n    }\n  }\n  reconnected() {\n    const { prevData, element } = this;\n    for (const key in prevData) {\n      if (key[0] !== \"@\")\n        continue;\n      const value = prevData[key];\n      element.addEventListener(\n        key.slice(1),\n        this,\n        value\n      );\n    }\n  }\n}\nexport const spread = directive(SpreadDirective);\nclass SpreadPropsDirective extends AsyncDirective {\n  constructor() {\n    super(...arguments);\n    this.prevData = {};\n  }\n  render(_spreadData) {\n    return nothing;\n  }\n  update(part, [spreadData]) {\n    var _a;\n    if (this.element !== part.element) {\n      this.element = part.element;\n    }\n    this.host = ((_a = part.options) == null ? void 0 : _a.host) || this.element;\n    this.apply(spreadData);\n    this.groom(spreadData);\n    this.prevData = spreadData;\n  }\n  apply(data) {\n    if (!data)\n      return;\n    const { prevData, element } = this;\n    for (const key in data) {\n      const value = data[key];\n      if (value === prevData[key]) {\n        continue;\n      }\n      element[key] = value;\n    }\n  }\n  groom(data) {\n    const { prevData, element } = this;\n    if (!prevData)\n      return;\n    for (const key in prevData) {\n      if (!data || !(key in data)) {\n        element[key] = void 0;\n      }\n    }\n  }\n}\nexport const spreadProps = directive(SpreadPropsDirective);\n//# sourceMappingURL=lit-helpers.js.map\n","\n    import { Template } from '@swc-packages-internal/picker/stories/template.js';\n    import { render } from 'lit';\n    const demo = document.querySelector('.demo-preview');\n    const config = document.querySelector('.demo-config');\n    function getArgs() {\n        const args = {};\n        if (!config) {\n            return args;\n        }\n        const form = config.querySelectorAll('.demo-control');\n        form.forEach(arg => {\n            args[arg.id] = arg.value === 'false' ? false : arg.value;\n        })\n        return args;\n    }\n    const renderDemo = (args = {}) => {\n        render(Template(args), demo);\n    };\n    if (config) {\n        config.addEventListener('change', () => {\n            renderDemo(getArgs());\n        });\n    }\n    customElements.whenDefined('sp-picker').then(() => {\n        const defaultArgs = getArgs();\n        console.log(defaultArgs);\n        renderDemo(defaultArgs);\n    });\n","\"use strict\";\nimport {\n  html\n} from \"@spectrum-web-components/base\";\nimport \"@spectrum-web-components/field-label/sp-field-label.js\";\nimport \"@spectrum-web-components/picker/sp-picker.js\";\nimport \"@spectrum-web-components/menu/sp-menu-item.js\";\nimport { spreadProps } from \"../../../test/lit-helpers.js\";\nimport { ifDefined } from \"lit-html/directives/if-defined.js\";\nexport const handleChange = ({ onChange }) => (event) => {\n  const picker = event.target;\n  if (onChange)\n    onChange(picker.value);\n};\nexport const Template = (args) => html`\n    <sp-field-label for=\"picker-1\" size=${ifDefined(args.size)}>\n        Where do you live?\n    </sp-field-label>\n    <sp-picker\n        id=\"picker-1\"\n        @change=${handleChange(args)}\n        label=\"Choose your neighborhood\"\n        ${spreadProps(args)}\n    >\n        <sp-menu-item value=\"option-1\">Carol Gardens</sp-menu-item>\n        <sp-menu-item value=\"option-2\">Cobble Hill</sp-menu-item>\n        <sp-menu-item value=\"option-3\">Ft. Greene</sp-menu-item>\n        <sp-menu-item value=\"option-4\">Park Slope</sp-menu-item>\n        <sp-menu-item disabled value=\"option-5\">Prospect Park</sp-menu-item>\n        <sp-menu-item value=\"option-6\">Red Hook</sp-menu-item>\n    </sp-picker>\n`;\n//# sourceMappingURL=template.js.map\n"],"names":["spreadProps","directive","AsyncDirective","constructor","super","arguments","this","prevData","render","_spreadData","nothing","update","part","spreadData","_a","element","host","options","apply","groom","data","key","value","demo","document","querySelector","config","getArgs","args","querySelectorAll","forEach","arg","id","renderDemo","html","ifDefined","size","handleChange","onChange","event","picker","target","Template","addEventListener","customElements","whenDefined","then","defaultArgs","console","log"],"mappings":"s+BA4Na,MAAAA,EAAcC,EA3C3B,cAAmCC,EAAnCC,WAAAA,GAAAC,SAAAC,WAGIC,KAAAC,SAAuC,CAAA,CAEvCC,CAAAA,MAAAA,CAAOC,GACH,OAAOC,CACX,CACSC,MAAAA,CAAOC,GAAaC,IAzLjC,IAAAC,EA0LYR,KAAKS,UAAaH,EAAqBG,UACvCT,KAAKS,QAAWH,EAAqBG,SAEzCT,KAAKU,MAAO,OAAAF,EAAAF,EAAKK,cAALH,EAAAA,EAAcE,OAAQV,KAAKS,QACvCT,KAAKY,MAAML,GACXP,KAAKa,MAAMN,GACXP,KAAKC,SAAWM,CACpB,CAEAK,KAAAA,CAAME,GACF,IAAKA,EAAM,OACX,MAAMb,SAAEA,EAAAQ,QAAUA,GAAYT,KAC9B,IAAW,MAAAe,KAAOD,EAAM,CACpB,MAAME,EAAQF,EAAKC,GACfC,IAAUf,EAASc,KAIvBN,EAAQM,GAAOC,EACnB,CACJ,CAEAH,KAAAA,CAAMC,GACF,MAAMb,SAAEA,EAAAQ,QAAUA,GAAYT,KAC9B,GAAKC,EACL,UAAWc,KAAOd,EACTa,GAAUC,KAAOD,IAElBL,EAAQM,QAAO,EAG3B,ICtNME,EAAOC,SAASC,cAAc,iBAC9BC,EAASF,SAASC,cAAc,gBACtC,SAASE,IACL,MAAMC,EAAO,CAAA,EACb,IAAKF,EACD,OAAOE,EAMX,OAJaF,EAAOG,iBAAiB,iBAChCC,SAAQC,IACTH,EAAKG,EAAIC,IAAoB,UAAdD,EAAIT,OAA4BS,EAAIT,KAAK,IAErDM,CACX,CACA,MAAMK,EAAaA,CAACL,EAAO,CAAA,KACvBpB,EC2BiBoB,IAAoCM,CAAA,wCACnBC,EAAUP,EAAKQ,+EAPrDC,GAAGC,cACFC,IACG,MAAMC,EAASD,EAAME,OACjBH,GAAUA,EAASE,EAAOlB,MAAK,EASzBe,CAAaT,wCAErB5B,EAAY4B,2XDnCPc,CAASd,GAAOL,EAAK,EAE5BG,GACAA,EAAOiB,iBAAiB,UAAU,KAC9BV,EAAWN,IAAU,IAG7BiB,eAAeC,YAAY,aAAaC,MAAK,KACzC,MAAMC,EAAcpB,IACpBqB,QAAQC,IAAIF,GACZd,EAAWc,EAAY"}