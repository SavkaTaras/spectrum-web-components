{"version":3,"file":"swc.DHCVb9ki.js","sources":["../../../packages/button/src/button-base.css.js","../../../packages/button/src/ButtonBase.js"],"sourcesContent":["\"use strict\";import{css as e}from\"@spectrum-web-components/base\";const s=e`\n    :host{vertical-align:top;--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-100);--spectrum-icon-size:var(--spectrum-workflow-icon-size-100);display:inline-flex}:host([dir]){-webkit-appearance:none}:host([disabled]){pointer-events:none;cursor:auto}#button{position:absolute;inset:0}::slotted(sp-overlay),::slotted(sp-tooltip){position:absolute}:host:after{pointer-events:none}::slotted(*){pointer-events:none}slot[name=icon]::slotted(svg),slot[name=icon]::slotted(img){fill:currentColor;stroke:currentColor;block-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100));inline-size:var(--spectrum-icon-size,var(--spectrum-workflow-icon-size-100))}[icon-only]+#label{display:contents}:host([size=xs]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-50);--spectrum-icon-size:var(--spectrum-workflow-icon-size-50)}:host([size=s]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-75);--spectrum-icon-size:var(--spectrum-workflow-icon-size-75)}:host([size=l]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-200);--spectrum-icon-size:var(--spectrum-workflow-icon-size-200)}:host([size=xl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-300);--spectrum-icon-size:var(--spectrum-workflow-icon-size-300)}:host([size=xxl]){--spectrum-progress-circle-size:var(--spectrum-workflow-icon-size-400);--spectrum-icon-size:var(--spectrum-workflow-icon-size-400)}\n`;export default s;\n//# sourceMappingURL=button-base.css.js.map\n","\"use strict\";var d=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var s=(n,i,e,t)=>{for(var r=t>1?void 0:t?c(i,e):i,a=n.length-1,l;a>=0;a--)(l=n[a])&&(r=(t?l(i,e,r):l(r))||r);return t&&r&&d(i,e,r),r};import{html as o}from\"@spectrum-web-components/base\";import{property as h,query as u}from\"@spectrum-web-components/base/src/decorators.js\";import{LikeAnchor as p}from\"@spectrum-web-components/shared/src/like-anchor.js\";import{Focusable as b}from\"@spectrum-web-components/shared/src/focusable.js\";import{ObserveSlotText as f}from\"@spectrum-web-components/shared/src/observe-slot-text.js\";import m from\"./button-base.css.js\";export class ButtonBase extends f(p(b),\"\",[\"sp-overlay,sp-tooltip\"]){constructor(){super();this.active=!1;this.type=\"button\";this.proxyFocus=this.proxyFocus.bind(this),this.addEventListener(\"click\",this.handleClickCapture,{capture:!0})}static get styles(){return[m]}get focusElement(){return this}get hasLabel(){return this.slotHasContent}get buttonContent(){return[o`\n                <slot name=\"icon\" ?icon-only=${!this.hasLabel}></slot>\n            `,o`\n                <span id=\"label\">\n                    <slot @slotchange=${this.manageTextObservedSlot}></slot>\n                </span>\n            `]}click(){this.disabled||this.shouldProxyClick()||super.click()}handleClickCapture(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1}proxyFocus(){this.focus()}shouldProxyClick(){let e=!1;if(this.anchorElement)this.anchorElement.click(),e=!0;else if(this.type!==\"button\"){const t=document.createElement(\"button\");t.type=this.type,this.insertAdjacentElement(\"afterend\",t),t.click(),t.remove(),e=!0}return e}renderAnchor(){return o`\n            ${this.buttonContent}\n            ${super.renderAnchor({id:\"button\",ariaHidden:!0,className:\"button anchor hidden\"})}\n        `}renderButton(){return o`\n            ${this.buttonContent}\n        `}render(){return this.href&&this.href.length>0?this.renderAnchor():this.renderButton()}handleKeydown(e){const{code:t}=e;switch(t){case\"Space\":e.preventDefault(),typeof this.href==\"undefined\"&&(this.addEventListener(\"keyup\",this.handleKeyup),this.active=!0);break;default:break}}handleKeypress(e){const{code:t}=e;switch(t){case\"Enter\":case\"NumpadEnter\":this.click();break;default:break}}handleKeyup(e){const{code:t}=e;switch(t){case\"Space\":this.removeEventListener(\"keyup\",this.handleKeyup),this.active=!1,this.click();break;default:break}}manageAnchor(){this.href&&this.href.length>0?((!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"button\")&&this.setAttribute(\"role\",\"link\"),this.removeEventListener(\"click\",this.shouldProxyClick)):((!this.hasAttribute(\"role\")||this.getAttribute(\"role\")===\"link\")&&this.setAttribute(\"role\",\"button\"),this.addEventListener(\"click\",this.shouldProxyClick))}firstUpdated(e){super.firstUpdated(e),this.hasAttribute(\"tabindex\")||this.setAttribute(\"tabindex\",\"0\"),this.manageAnchor(),this.addEventListener(\"keydown\",this.handleKeydown),this.addEventListener(\"keypress\",this.handleKeypress)}updated(e){super.updated(e),e.has(\"href\")&&this.manageAnchor(),e.has(\"label\")&&this.setAttribute(\"aria-label\",this.label||\"\"),this.anchorElement&&(this.anchorElement.addEventListener(\"focus\",this.proxyFocus),this.anchorElement.tabIndex=-1)}}s([h({type:Boolean,reflect:!0})],ButtonBase.prototype,\"active\",2),s([h({type:String})],ButtonBase.prototype,\"type\",2),s([u(\".anchor\")],ButtonBase.prototype,\"anchorElement\",2);\n//# sourceMappingURL=ButtonBase.js.map\n"],"names":["s","e","d","Object","defineProperty","n","i","t","l","r","a","length","ButtonBase","f","p","b","constructor","super","this","active","type","proxyFocus","bind","addEventListener","handleClickCapture","capture","styles","m","focusElement","hasLabel","slotHasContent","buttonContent","o","manageTextObservedSlot","click","disabled","shouldProxyClick","preventDefault","stopImmediatePropagation","stopPropagation","focus","anchorElement","document","createElement","insertAdjacentElement","remove","renderAnchor","id","ariaHidden","className","renderButton","render","href","handleKeydown","code","handleKeyup","handleKeypress","removeEventListener","manageAnchor","hasAttribute","getAttribute","setAttribute","firstUpdated","updated","has","label","tabIndex","h","Boolean","reflect","prototype","String","u"],"mappings":"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"}